const getStartedBtn=document.getElementById("get-started");getStartedBtn&&getStartedBtn.addEventListener("click",()=>{const e=document.getElementById("services")||document.getElementById("contact");e&&e.scrollIntoView({behavior:"smooth"})});const requestQuoteBtn=document.getElementById("request-quote");requestQuoteBtn&&requestQuoteBtn.addEventListener("click",()=>{const e=document.getElementById("quote");e&&e.scrollIntoView({behavior:"smooth"})});const navToggle=document.getElementById("nav-toggle");function toggleNav(){const e=document.getElementById("nav-links"),t="true"===navToggle.getAttribute("aria-expanded");navToggle.setAttribute("aria-expanded",String(!t)),e&&e.classList.toggle("open")}navToggle&&navToggle.addEventListener("click",toggleNav);const navItems=document.querySelectorAll(".nav-links a");navItems.length&&navItems.forEach(e=>e.addEventListener("click",()=>{const t=document.getElementById("nav-links");t&&t.classList.remove("open"),navToggle&&navToggle.setAttribute("aria-expanded","false"),navItems.forEach(e=>e.classList.remove("active")),e.classList.add("active")})),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll("section[id]");if(e.length&&navItems.length){const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&navItems.forEach(t=>{t.classList.toggle("active",t.getAttribute("href")===`#${e.target.id}`)})})},{threshold:.6});e.forEach(e=>t.observe(e))}const t=new IntersectionObserver((e,t)=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("fade-in"),t.unobserve(e.target))})},{threshold:.1});document.querySelectorAll("section").forEach(e=>t.observe(e));const n=[{icon:"ðŸ“š",title:"Hardcover Binding",description:"Durable covers for premium books."},{icon:"ðŸ“˜",title:"Perfect/PUR Binding",description:"Clean, professional softcover books."},{icon:"ðŸ› ï¸",title:"Restoration & Repair",description:"Give cherished books a new life."},{icon:"âœ¨",title:"Foil & Embossing",description:"Custom finishes that stand out."},{icon:"ðŸ§ª",title:"Short-Run Prototyping",description:"Test editions without large commitments."},{icon:"ðŸ­",title:"Industrial Finishing",description:"High-volume finishing for publishers."}],o=document.getElementById("services");o&&n.forEach(e=>{const t=document.createElement("article");t.className="card";let n="";e.icon&&(n+=`<div class="icon">${e.icon}</div>`),n+=`<h3>${e.title}</h3><p>${e.description}</p>`,t.innerHTML=n,o.appendChild(t)});const i=[{img:"https://images.unsplash.com/photo-1516979187457-637abb4f9353?auto=format&fit=crop&w=600&q=80",title:"Restored Antique Book",description:"Full restoration of a 19th-century volume."},{img:"https://images.unsplash.com/photo-1528209390973-5a63a78f9368?auto=format&fit=crop&w=600&q=80",title:"Custom Leather Journal",description:"Hand-stitched leather-bound journal."},{img:"https://images.unsplash.com/photo-1532012197267-da84d127e765?auto=format&fit=crop&w=600&q=80",title:"Limited Edition Binding",description:"Small-batch artisan book covers."}],s=document.querySelector(".portfolio-grid");s&&i.forEach(e=>{const t=document.createElement("article");t.className="card",t.innerHTML=`<img src="${e.img}" alt="${e.title}" loading="lazy"><h3>${e.title}</h3><p>${e.description}</p>`,s.appendChild(t)});const r=[{img:"https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?auto=format&fit=crop&w=600&q=80",title:"The Art of Book Restoration",description:"A behind-the-scenes look at bringing books back to life."},{img:"https://images.unsplash.com/photo-1509021436665-8f07dbf5bf1d?auto=format&fit=crop&w=600&q=80",title:"Choosing the Right Paper",description:"Tips for selecting paper for your project."},{img:"https://images.unsplash.com/photo-1555041469-a586c61ea9bc?auto=format&fit=crop&w=600&q=80",title:"Binding Trends 2025",description:"Whatâ€™s new in the world of bookbinding."}],a=document.querySelector(".blog-grid");a&&r.forEach(e=>{const t=document.createElement("article");t.className="card",t.innerHTML=`<img src="${e.img}" alt="${e.title}" loading="lazy"><h3>${e.title}</h3><p>${e.description}</p>`,a.appendChild(t)});const c=[{question:"What services do you offer?",answer:"We specialize in bookbinding, restoration, and custom finishing."},{question:"How can I request a quote?",answer:"Use the request a quote form above and we will respond promptly."},{question:"Do you handle large orders?",answer:"Yes, our industrial finishing service accommodates high-volume projects."}],l=document.getElementById("faq-list");l&&c.forEach(e=>{const t=document.createElement("article");t.className="faq",t.innerHTML=`<h3>${e.question}</h3><p>${e.answer}</p>`,l.appendChild(t)});const d=document.querySelectorAll("#testimonials .testimonial"),m=document.getElementById("next-testimonial"),u=document.getElementById("prev-testimonial");let g=0;let h;function p(e){d.forEach((t,n)=>{t.classList.toggle("active",n===e)})}function v(){g=(g+1)%d.length,p(g)}function f(){h=setInterval(v,5e3)}function E(){clearInterval(h),f()}m&&m.addEventListener("click",()=>{v(),E()}),u&&u.addEventListener("click",()=>{g=(g-1+d.length)%d.length,p(g),E()}),d.length&&(p(g),f());const y=document.getElementById("contact-form");y&&y.addEventListener("submit",e=>{e.preventDefault();let t=!0;const n=document.getElementById("name"),o=document.getElementById("email"),i=document.getElementById("message"),s=document.getElementById("name-error"),r=document.getElementById("email-error"),a=document.getElementById("message-error");s.textContent="",r.textContent="",a.textContent="",n.value.trim()||(s.textContent="Name is required.",t=!1);o.value.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value.trim())||(r.textContent="Enter a valid email.",t=!1):(r.textContent="Email is required.",t=!1),i.value.trim()||(a.textContent="Message is required.",t=!1),t&&(y.reset(),alert("Thank you for your message!"))});const q=document.getElementById("quote-form");q&&q.addEventListener("submit",e=>{e.preventDefault();let t=!0;const n=document.getElementById("quote-name"),o=document.getElementById("quote-email"),i=document.getElementById("book-type"),s=document.getElementById("quantity"),r=document.getElementById("quote-name-error"),a=document.getElementById("quote-email-error"),c=document.getElementById("book-type-error"),l=document.getElementById("quantity-error"),d=document.getElementById("quote-success");r.textContent="",a.textContent="",c.textContent="",l.textContent="",d&&(d.textContent=""),n.value.trim()||(r.textContent="Name is required.",t=!1);o.value.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.value.trim())||(a.textContent="Enter a valid email.",t=!1):(a.textContent="Email is required.",t=!1),i.value.trim()||(c.textContent="Book type is required.",t=!1),(!s.value.trim()||parseInt(s.value,10)<=0)&&(l.textContent="Enter a valid quantity.",t=!1),t&&(q.reset(),d&&(d.textContent="Quote request sent!",setTimeout(()=>{d.textContent=""},5e3)))});const I=document.getElementById("lightbox"),B=I?I.querySelector("img"):null,b=I?I.querySelector(".lightbox-caption"):null,C=I?I.querySelector(".lightbox-close"):null;document.querySelectorAll("#gallery img").forEach(e=>{e.addEventListener("click",()=>{if(I&&B){if(B.src=e.src,B.alt=e.alt,b){const t=e.closest("figure"),n=t?t.querySelector("figcaption"):null;b.textContent=n?n.textContent:""}I.classList.add("open")}})}),C&&C.addEventListener("click",()=>{I.classList.remove("open")}),I&&I.addEventListener("click",e=>{e.target===I&&I.classList.remove("open")})});